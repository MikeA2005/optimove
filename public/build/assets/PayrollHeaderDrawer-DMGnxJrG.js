import{W as v,r as y,j as e}from"./app-gD87wKxr.js";import{D as d,a as N,b as f,B as E}from"./ToggleSwitch-CDqJHs-g.js";import{I as i}from"./InputError-CvJPpQnH.js";import{C as m}from"./CustomDatepicker-TONPSBWJ.js";function O({isOpen:c,onClose:o,PayrollHeader:a=null}){const s=a!==null,{data:n,setData:l,post:p,put:u,processing:h,errors:r,reset:x}=v({name:"",start_date:"",end_date:"",settlement_base:"0",payroll_type:""});y.useEffect(()=>{a&&s&&l({name:a.name||"",start_date:a.start_date||"",end_date:a.end_date||"",settlement_base:a.settlement_base||"",payroll_type:a.payroll_type||""})},[a]);const _=t=>{t.preventDefault();const j=s?u:p,b=s?route("payroll-headers.update",a.id):route("payroll-headers.store");j(b,{onSuccess:()=>{o(),x()},onError:g=>{console.log("Error handling payroll header: ",g)},data:n})};return e.jsxs(d,{open:c,onClose:o,position:"right",children:[e.jsx(d.Header,{title:s?"Editar Cabecera de N贸mina":"Agregar Cabecera de N贸mina",titleIcon:s?N:f}),e.jsx(d.Items,{children:e.jsxs("form",{onSubmit:_,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"label",children:"Nombre"}),e.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:t=>l("name",t.target.value),className:"input"}),e.jsx(i,{message:r.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"start_date",className:"label",children:"Fecha de Inicio"}),e.jsx(m,{id:"start_date",name:"start_date",value:n.start_date,onChange:t=>l("start_date",t)}),e.jsx(i,{message:r.start_date})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"end_date",className:"label",children:"Fecha de Fin"}),e.jsx(m,{id:"end_date",name:"end_date",value:n.end_date,onChange:t=>l("end_date",t)}),e.jsx(i,{message:r.end_date})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"payroll_type",className:"label",children:"Tipo de N贸mina"}),e.jsxs("select",{id:"payroll_type",value:n.payroll_type,onChange:t=>l("payroll_type",t.target.value),className:"input",children:[e.jsx("option",{value:"",disabled:!0,children:"Selecciona el tipo de n贸mina..."}),e.jsx("option",{value:"DEP",children:"Dependiente"}),e.jsx("option",{value:"IND",children:"Independiente"}),e.jsx("option",{value:"OBL",children:"Obra Labor"})]}),e.jsx(i,{message:r.payroll_type})]})]}),e.jsx(E,{type:"submit",disabled:h,color:"blue",className:"mt-4 w-full text-base font-medium",children:s?"Editar cabecera":"Agregar cabecera"})]})})]})}export{O as default};
