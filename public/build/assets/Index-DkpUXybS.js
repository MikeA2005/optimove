import{q as j,r as a,j as t,Y as O,y as P}from"./app-BJ3LYwhR.js";import{H as g}from"./ToggleSwitch-Cac-iS3i.js";import{A as k}from"./AuthenticatedLayout-jKSGqAkw.js";import{P as C,G as S,a as Y,D as M}from"./DeleteModal-C8HgEYeJ.js";import u from"./LoanDrawer-BDjSBTJc.js";import{d as E}from"./CustomDatepicker-KOevqwzL.js";import"./InputError-4CZTqiue.js";import"./Modal-DKyFmUC7.js";import"./transition-BLVpQDjA.js";function B({auth:c}){const{loans:s,employees:n}=j().props,[p,r]=a.useState(!1),[f,l]=a.useState(!1),[y,m]=a.useState(!1),[i,d]=a.useState(null),o=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:2}),x=e=>{d(e),l(!0)},b=e=>{d(e),m(!0)},h=[{key:"date",label:"Fecha",render:e=>E(e.date,"YYYY-MM-DD").format("DD MMMM YYYY")},{key:"employee",label:"Empleado",render:e=>e.employee.first_name+" "+e.employee.last_name},{key:"amount",label:"Monto del Préstamo",render:e=>o.format(e.amount)},{key:"installments",label:"Cuotas",render:e=>e.installments},{key:"installment_value",label:"Valor de Cuota",render:e=>o.format(e.installment_value)},{key:"pending_amount",label:"Monto Pendiente",render:e=>o.format(e.pending_amount)}],D=e=>{P.get(route("loans.index"),{employee_id:e},{preserveState:!0,replace:!0})};return t.jsxs(k,{user:c.user,children:[t.jsx(O,{title:"Préstamos"}),t.jsx(C,{title:"Todos los Préstamos",breadcrumbs:[{label:"Inicio",url:route("dashboard"),icon:g},{label:"Préstamos"}],onAddClick:()=>r(!0),searchPlaceholder:"Buscar préstamos",addButtonText:"Agregar préstamo",onSearch:D,initialSearchTerm:""}),t.jsx(S,{data:s.data,columns:h,onEdit:x,onDelete:b}),t.jsx(Y,{links:s.links,meta:s.meta}),t.jsx(u,{isOpen:p,onClose:()=>r(!1),employees:n}),t.jsx(u,{isOpen:f,onClose:()=>l(!1),loan:i,employees:n}),t.jsx(M,{isOpen:y,onClose:()=>m(!1),data:i,routeName:"loans"})]})}export{B as default};
