import{W as f,r as N,j as e}from"./app-C8aSnOsC.js";import{D as d,a as E,b as F,B as C}from"./ToggleSwitch-BZs51KRg.js";import{I as r}from"./InputError-VcDgzKKy.js";import{C as u}from"./CustomDatepicker-98gPMxCH.js";function P({isOpen:c,onClose:o,payroll:a=null,employees:m}){const l=a!==null,{data:n,setData:t,post:h,put:p,processing:_,errors:i,reset:x}=f({employee_id:"",start_date:"",end_date:"",others_earnings:"",responsabilities:"",funeral_plan:"",others_deductions:""});N.useEffect(()=>{a&&l&&t({employee_id:a.employee.id||"",start_date:a.start_date||"",end_date:a.end_date||"",others_earnings:a.others_earnings||"",responsabilities:a.responsabilities||"",funeral_plan:a.funeral_plan||"",others_deductions:a.others_deductions||""})},[a]);const j=s=>{s.preventDefault();const g=l?p:h,b=l?route("payrolls.update",a.id):route("payrolls.store");g(b,{onSuccess:()=>{o(),x()},onError:v=>{console.log("Error handling payroll: ",v)}})};return e.jsxs(d,{open:c,onClose:o,position:"right",children:[e.jsx(d.Header,{title:l?"Editar N贸mina":"Agregar N贸mina",titleIcon:l?E:F}),e.jsx(d.Items,{children:e.jsxs("form",{onSubmit:j,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"employee_id",className:"label",children:"Empleado"}),e.jsxs("select",{id:"employee_id",value:n.employee_id,onChange:s=>t("employee_id",s.target.value),className:"input",children:[e.jsx("option",{value:"",children:"Seleccionar empleado..."}),m.data.map(s=>e.jsxs("option",{value:s.id,children:[s.last_name," ",s.first_name]},s.id))]}),e.jsx(r,{message:i.employee_id})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"start_date",className:"label",children:"Fecha de Inicio"}),e.jsx(u,{id:"start_date",value:n.start_date,onChange:s=>t("start_date",s)}),e.jsx(r,{message:i.start_date})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"end_date",className:"label",children:"Fecha de Fin"}),e.jsx(u,{id:"end_date",value:n.end_date,onChange:s=>t("end_date",s)}),e.jsx(r,{message:i.end_date})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"others_earnings",className:"label",children:"Otros Devengados"}),e.jsx("input",{id:"others_earnings",type:"number",value:n.others_earnings,onChange:s=>t("others_earnings",s.target.value),className:"input"}),e.jsx(r,{message:i.others_earnings})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"responsabilities",className:"label",children:"Responsabilidades"}),e.jsx("input",{id:"responsabilities",type:"number",value:n.responsabilities,onChange:s=>t("responsabilities",s.target.value),className:"input"}),e.jsx(r,{message:i.responsabilities})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"funeral_plan",className:"label",children:"Plan Exequial"}),e.jsx("input",{id:"funeral_plan",type:"number",value:n.funeral_plan,onChange:s=>t("funeral_plan",s.target.value),className:"input"}),e.jsx(r,{message:i.funeral_plan})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"others_deductions",className:"label",children:"Otras Deducciones"}),e.jsx("input",{id:"others_deductions",type:"number",value:n.others_deductions,onChange:s=>t("others_deductions",s.target.value),className:"input"}),e.jsx(r,{message:i.others_deductions})]})]}),e.jsx(C,{type:"submit",disabled:_,color:"blue",className:"mt-4 w-full text-base font-medium",children:l?"Editar n贸mina":"Agregar n贸mina"})]})})]})}export{P as default};
