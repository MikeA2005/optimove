import{q as D,r as a,j as t,Y as P,y as j}from"./app-DK9Td1gN.js";import{H as k}from"./ToggleSwitch-BEsFegO1.js";import{A as O}from"./AuthenticatedLayout-BvWG7mXR.js";import{P as g,G as M,D as S}from"./DeleteModal-CNzG0vIy.js";import{P as Y}from"./Pagination-dFFNMzuH.js";import C from"./LoanDrawer-BXqM7Bu6.js";import{d as E}from"./CustomDatepicker-CxbDm65z.js";import"./InputError-BpmO9yAk.js";import"./Modal-FDNOr7CT.js";import"./transition-CfqNtJq8.js";function G({auth:c}){const{loans:s,employees:u}=D().props,[p,r]=a.useState(!1),[n,l]=a.useState(!1),[f,i]=a.useState(!1),[m,d]=a.useState(null),o=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:2}),y=e=>{d(e),l(!0)},b=e=>{d(e),i(!0)},x=[{key:"date",label:"Fecha",render:e=>E(e.date,"YYYY-MM-DD").format("DD MMMM YYYY")},{key:"employee",label:"Empleado",render:e=>e.employee.first_name+" "+e.employee.last_name},{key:"amount",label:"Monto del Préstamo",render:e=>o.format(e.amount)},{key:"installments",label:"Cuotas",render:e=>e.installments},{key:"installment_value",label:"Valor de Cuota",render:e=>o.format(e.installment_value)},{key:"pending_amount",label:"Monto Pendiente",render:e=>o.format(e.pending_amount)},{key:"active",label:"Estado",render:e=>e.active?"Activo":"Inactivo"}],h=e=>{j.get(route("loans.index"),{employee_id:e},{preserveState:!0,replace:!0})};return t.jsxs(O,{user:c.user,children:[t.jsx(P,{title:"Préstamos"}),t.jsx(g,{title:"Todos los Préstamos",breadcrumbs:[{label:"Inicio",url:route("dashboard"),icon:k},{label:"Préstamos"}],onAddClick:()=>r(!0),searchPlaceholder:"Buscar préstamos",addButtonText:"Agregar préstamo",onSearch:h,initialSearchTerm:""}),t.jsx(M,{data:s.data,columns:x,onEdit:y,onDelete:b}),t.jsx(Y,{links:s.links,meta:s.meta}),t.jsx(C,{isOpen:p||n,onClose:()=>{r(!1),l(!1)},loan:n?m:null,employees:u}),t.jsx(S,{isOpen:f,onClose:()=>i(!1),data:m,routeName:"loans"})]})}export{G as default};
