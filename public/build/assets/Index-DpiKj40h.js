import{q as b,r as a,j as t,Y as j,y as S}from"./app-gD87wKxr.js";import{H as Y}from"./ToggleSwitch-CDqJHs-g.js";import{A as O}from"./AuthenticatedLayout-CZvbqwMg.js";import{P as k,G as E,D as _}from"./DeleteModal-Bnm1NSBB.js";import{P as g}from"./Pagination-ChsxNzTx.js";import C from"./AttendanceDrawer-DcmEUYKh.js";import{d as M}from"./CustomDatepicker-TONPSBWJ.js";import"./InputError-CvJPpQnH.js";import"./Modal-B5fkwVPM.js";import"./transition-C5OegfaC.js";function F({auth:c}){const{attendances:s,employees:m,clients:p,shiftTypes:u}=b().props,[f,n]=a.useState(!1),[r,l]=a.useState(!1),[y,o]=a.useState(!1),[i,d]=a.useState(null),h=e=>{d(e),l(!0)},x=e=>{d(e),o(!0)},A=[{key:"date",label:"Fecha",render:e=>M(e.date,"YYYY-MM-DD").format("DD MMMM YYYY")},{key:"employee_id",label:"Empleado",render:e=>`${e.employee.first_name} ${e.employee.last_name}`},{key:"client_id",label:"Cliente",render:e=>e.client.company_name},{key:"city_id",label:"Ciudad",render:e=>e.city.city_name}],D=e=>{S.get(route("attendances.index"),{date:e},{preserveState:!0,replace:!0})};return t.jsxs(O,{user:c.user,children:[t.jsx(j,{title:"Attendances"}),t.jsx(k,{title:"Attendances",breadcrumbs:[{label:"Inicio",url:route("dashboard"),icon:Y},{label:"Attendances"}],searchPlaceholder:"Buscar asistencias",onAddClick:()=>n(!0),addButtonText:"Agregar asistencia",onSearch:D,initialSearchTerm:""}),t.jsx(E,{data:s.data,columns:A,onEdit:h,onDelete:x}),t.jsx(g,{links:s.links,meta:s.meta}),t.jsx(C,{isOpen:f||r,onClose:()=>{n(!1),l(!1)},attendance:r?i:null,clients:p,employees:m,shiftTypes:u}),t.jsx(_,{isOpen:y,onClose:()=>o(!1),data:i,routeName:"attendances"})]})}export{F as default};
