import{W as y,r as N,j as e}from"./app-CTCa4fs-.js";import{D as c,a as E,b as _,B as C}from"./ToggleSwitch-DvtBiXHV.js";import{I as m}from"./InputError-T7M75z13.js";function S({isOpen:u,onClose:d,client:a=null,cities:p}){const t=a!==null,{data:n,setData:i,errors:l,post:x,put:h,processing:j,reset:g}=y({company_name:"",nit:"",cities:[]});N.useEffect(()=>{a&&t&&i({company_name:a.company_name||"",nit:a.nit||"",cities:a.cities.map(s=>s.id)||[]})},[a]);const b=s=>{s.preventDefault();const r=t?h:x,o=t?route("clients.update",a.id):route("clients.store");r(o,{onSuccess:()=>{d(),g()},onError:v=>{console.log("Error handling client: ",v)}})},f=s=>{const r=Array.from(s.target.selectedOptions).map(o=>o.value);i("cities",r)};return e.jsxs(c,{open:u,onClose:d,position:"right",children:[e.jsx(c.Header,{title:t?"Editar cliente":"Agregar cliente",titleIcon:t?E:_}),e.jsx(c.Items,{children:e.jsx("form",{onSubmit:b,children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"company_name",className:"label",children:"Nombre de la Empresa"}),e.jsx("input",{type:"text",id:"company_name",value:n.company_name,onChange:s=>i("company_name",s.target.value),className:"input"}),e.jsx(m,{message:l.company_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"nit",className:"label",children:"NIT de la Empresa"}),e.jsx("input",{type:"text",id:"nit",value:n.nit,onChange:s=>i("nit",s.target.value),className:"input"}),e.jsx(m,{message:l.nit})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"cities",className:"label",children:"Ciudades"}),e.jsxs("select",{id:"cities",value:n.cities,onChange:f,multiple:!0,className:"input",children:[e.jsx("option",{value:"",disabled:!0,children:"Selecciona una o mÃ¡s ciudades..."}),p.map(s=>e.jsx("option",{value:s.id,children:s.city_name},s.id))]}),e.jsx(m,{message:l.cities})]}),e.jsx(C,{type:"submit",disabled:j,color:"blue",className:"mt-4 w-full text-base font-medium",children:t?"Actualizar cliente":"Guardar cliente"})]})})})]})}export{S as default};
