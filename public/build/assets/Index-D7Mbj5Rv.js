import{q as y,r as s,j as t,Y as S,y as E}from"./app-Dt4zvYOL.js";import{H as O}from"./ToggleSwitch-Dck2_LdV.js";import{A as g}from"./AuthenticatedLayout-P-XnD5yL.js";import{P as D,G as k,D as A}from"./DeleteModal-DUoWKaq0.js";import{P as I}from"./Pagination-DqHYuSPA.js";import P from"./ClientDrawer-Z7E_F2KM.js";import"./InputError-BDaqBu_I.js";import"./Modal-BroYlyoF.js";import"./transition-DitEWbUt.js";function M({auth:m}){const{clients:a,cities:p}=y().props,[u,l]=s.useState(!1),[r,i]=s.useState(!1),[f,o]=s.useState(!1),[c,d]=s.useState(null),x=e=>{d(e),i(!0)},h=e=>{d(e),o(!0)},C=[{key:"company_name",label:"Nombre de la Empresa"},{key:"nit",label:"NIT de la Empresa"},{key:"ciudades",label:"Ciudades",render:e=>{const n=e.cities.map(j=>j.city_name);return n.length>1?n.join(", "):n[0]||""}}],b=e=>{E.get(route("clients.index"),{company_name:e},{preserveState:!0,replace:!0})};return t.jsxs(g,{user:m.user,children:[t.jsx(S,{title:"Clients"}),t.jsx(D,{title:"Todos los Clientes",breadcrumbs:[{label:"Inicio",url:route("dashboard"),icon:O},{label:"Clientes"}],searchPlaceholder:"Buscar Clientes",onAddClick:()=>l(!0),addButtonText:"Agregar Cliente",onSearch:b,initialSearchTerm:""}),t.jsx(k,{data:a.data,columns:C,onEdit:x,onDelete:h}),t.jsx(I,{links:a.links,meta:a.meta}),t.jsx(P,{isOpen:u||r,onClose:()=>{l(!1),i(!1)},client:r?c:null,cities:p}),t.jsx(A,{isOpen:f,onClose:()=>o(!1),data:c,routeName:"clients"})]})}export{M as default};
