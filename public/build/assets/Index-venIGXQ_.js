import{q as y,r as s,j as t,Y as S,y as D}from"./app-CTCa4fs-.js";import{H as E}from"./ToggleSwitch-DvtBiXHV.js";import{A as O}from"./AuthenticatedLayout-DKScpBCa.js";import{P as g,G as k,D as A}from"./DeleteModal-BW6zOnLA.js";import{P as I}from"./Pagination-q28l6kQh.js";import P from"./ClientDrawer-hJ6c7ApE.js";import"./InputError-T7M75z13.js";import"./Modal-Crpsuulw.js";import"./transition-C6Hk0x3I.js";function R({auth:m}){const{clients:a,cities:p}=y().props,[u,r]=s.useState(!1),[l,i]=s.useState(!1),[f,o]=s.useState(!1),[c,d]=s.useState(null),x=e=>{d(e),i(!0)},h=e=>{d(e),o(!0)},C=[{key:"company_name",label:"Nombre de la Empresa"},{key:"nit",label:"NIT de la Empresa"},{key:"ciudades",label:"Ciudades",render:e=>{const n=e.cities.map(j=>j.city_name);return n.length>1?n.join(", "):n[0]||""}}],b=e=>{D.get(route("clients.index"),{company_name:e},{preserveState:!0,replace:!0})};return t.jsxs(O,{user:m.user,children:[t.jsx(S,{title:"Clients"}),t.jsx(g,{title:"Todos los Clientes",breadcrumbs:[{label:"Inicio",url:route("dashboard"),icon:E},{label:"Clientes"}],searchPlaceholder:"Buscar Clientes",onAddClick:()=>r(!0),addButtonText:"Agregar Cliente",onSearch:b,initialSearchTerm:""}),t.jsx(k,{data:a.data,columns:C,onEdit:x,onDelete:h}),t.jsx(I,{links:a.links,meta:a.meta}),t.jsx(P,{isOpen:u||l,onClose:()=>{r(!1),i(!1)},client:l?c:null,cities:p}),t.jsx(A,{isOpen:f,onClose:()=>o(!1),data:c,routeName:"clients"})]})}export{R as default};
