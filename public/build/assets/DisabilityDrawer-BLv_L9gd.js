import{W as b,r as N,j as e}from"./app-Dt4zvYOL.js";import{D as n,a as y,b as E,B as D}from"./ToggleSwitch-Dck2_LdV.js";import{I as l}from"./InputError-BDaqBu_I.js";import{C as c}from"./CustomDatepicker-Csl877GC.js";function w({isOpen:p,onClose:o,disability:t=null,employees:m}){const s=t!==null,{data:d,setData:i,errors:r,post:u,put:x,processing:h,reset:j}=b({employee_id:"",start_date:"",end_date:"",type:"",description:""});N.useEffect(()=>{t&&s&&i({employee_id:t.employee.id||"",start_date:t.start_date||"",end_date:t.end_date||"",type:t.type||"",description:t.description||""})},[t]);const _=a=>{a.preventDefault();const g=s?x:u,v=s?route("disabilities.update",t.id):route("disabilities.store");g(v,{onSuccess:()=>{o(),j()},onError:f=>{console.log("Error handling disability: ",f)}})};return e.jsxs(n,{open:p,onClose:o,position:"right",children:[e.jsx(n.Header,{title:s?"Editar incapacidad":"Agregar incapacidad",titleIcon:s?y:E}),e.jsx(n.Items,{children:e.jsx("form",{onSubmit:_,children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"employee_id",className:"label",children:"Empleado"}),e.jsxs("select",{id:"employee_id",value:d.employee_id,onChange:a=>i("employee_id",a.target.value),className:"input",children:[e.jsx("option",{value:"",children:"Seleccione el empleado..."}),m.data.map(a=>e.jsx("option",{value:a.id,children:a.first_name+" "+a.last_name},a.id))]}),e.jsx(l,{message:r.employee_id})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"start_date",className:"label",children:"Fecha de Inicio"}),e.jsx(c,{id:"start_date",value:d.start_date,onChange:a=>i("start_date",a)}),e.jsx(l,{message:r.start_date})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"end_date",className:"label",children:"Fecha de Fin"}),e.jsx(c,{id:"end_date",value:d.end_date,onChange:a=>i("end_date",a)}),e.jsx(l,{message:r.end_date})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"type",className:"label",children:"Tipo de Incapacidad"}),e.jsx("input",{type:"text",id:"type",value:d.type,onChange:a=>i("type",a.target.value),className:"input"}),e.jsx(l,{message:r.type})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"label",children:"DescripciÃ³n"}),e.jsx("textarea",{id:"description",value:d.description,onChange:a=>i("description",a.target.value),className:"input"}),e.jsx(l,{message:r.description})]}),e.jsx(D,{type:"submit",disabled:h,color:"blue",className:"mt-4 w-full text-base font-medium",children:s?"Actualizar incapacidad":"Guardar incapacidad"})]})})})]})}export{w as default};
