import{W as v,r as f,j as e}from"./app-Bdllrnz8.js";import{D as o,a as N,b as E,B as y}from"./ToggleSwitch-BtwTgWZq.js";import{I as l}from"./InputError-BQY5xSpd.js";function S({isOpen:c,onClose:d,payrollDetail:t=null,employees:u}){const r=t!==null,{data:a,setData:n,post:m,put:h,processing:p,errors:i,reset:g}=v({employee_id:"",other_earnings:"",other_deductions:""});f.useEffect(()=>{t&&r&&n({employee_id:t.employee.id||"",other_earnings:t.other_earnings||"",other_deductions:t.other_deductions||""})},[t]);const _=s=>{s.preventDefault();const x=r?h:m,j=r?route("payroll-details.update",t.id):route("payroll-details.store");x(j,{onSuccess:()=>{g(),d()},onError:b=>{console.log("Error handling payroll detail",b)}})};return e.jsxs(o,{open:c,onClose:d,position:"right",children:[e.jsx(o.Header,{title:r?"Editar Detalle de N贸mina":"Agregar Detalle de N贸mina",titleIcon:r?N:E}),e.jsx(o.Items,{children:e.jsxs("form",{onSubmit:_,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"employee_id",className:"label",children:"Empleado"}),e.jsxs("select",{id:"employee_id",value:a.employee_id,onChange:s=>n("employee_id",s.target.value),className:"input",children:[e.jsx("option",{value:"",children:"Selecciona un empleado"}),u.data.map(s=>e.jsx("option",{value:s.id,children:s.last_name+" "+s.first_name},s.id))]}),e.jsx(l,{message:i.employee_id})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"other_earnings",className:"label",children:"Otros Devengados"}),e.jsx("input",{id:"other_earnings",type:"number",value:a.other_earnings,onChange:s=>n("other_earnings",s.target.value),className:"input"}),e.jsx(l,{message:i.other_earnings})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"other_deductions",className:"label",children:"Otros Deducidos"}),e.jsx("input",{id:"other_deductions",type:"number",value:a.other_deductions,onChange:s=>n("other_deductions",s.target.value),className:"input"}),e.jsx(l,{message:i.other_deductions})]})]}),e.jsx(y,{type:"submit",disabled:p,color:"blue",className:"mt-4",children:r?"Editar detalle de n贸mina":"Agregar detalle de n贸mina"})]})})]})}export{S as default};
