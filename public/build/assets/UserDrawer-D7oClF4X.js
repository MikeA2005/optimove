import{W as f,r as v,j as e}from"./app-CTCa4fs-.js";import{D as o,a as w,b as N,B as E}from"./ToggleSwitch-DvtBiXHV.js";import{I as n}from"./InputError-T7M75z13.js";function A({isOpen:u,onClose:m,user:s=null}){const t=s!==null,{data:l,setData:r,post:d,put:c,processing:p,errors:i,reset:x}=f({name:"",email:"",password:""});v.useEffect(()=>{s&&t&&r({name:s.name,email:s.email})},[s]);const h=a=>{a.preventDefault();const j=t?c:d,g=t?route("users.update",s.id):route("users.store");j(g,{onSuccess:()=>{m(),x()},onError:b=>{console.log("Error handling user: ",b)}})};return e.jsxs(o,{open:u,onClose:m,position:"right",children:[e.jsx(o.Header,{title:t?"Editar Usuario":"Añadir Usuario",titleIcon:t?w:N}),e.jsx(o.Items,{children:e.jsx("form",{onSubmit:h,children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"label",children:"Nombre de Usuario"}),e.jsx("input",{type:"text",id:"name",value:l.name,onChange:a=>r("name",a.target.value),className:"input",autoComplete:"given-name"}),e.jsx(n,{message:i.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"label",children:"Correo Electrónico"}),e.jsx("input",{type:"email",id:"email",value:l.email,onChange:a=>r("email",a.target.value),className:"input",autoComplete:"email"}),e.jsx(n,{message:i.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"label",children:"Contraseña"}),e.jsx("input",{type:"password",id:"password",value:l.password,onChange:a=>r("password",a.target.value),className:"input",autoComplete:"new-password"}),e.jsx(n,{message:i.password})]}),e.jsx(E,{type:"submit",disabled:p,color:"blue",className:"mt-4 w-full text-base font-medium",children:t?"Actualizar usuario":"Agregar usuario"})]})})})]})}export{A as default};
