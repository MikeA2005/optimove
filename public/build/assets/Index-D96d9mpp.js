import{q as D,r as a,j as t,Y as j,y as O}from"./app-C8aSnOsC.js";import{H as P}from"./ToggleSwitch-BZs51KRg.js";import{A as g}from"./AuthenticatedLayout-CaTCCPr1.js";import{P as k,G as S,a as Y,D as C}from"./DeleteModal-C6fSt68v.js";import M from"./LoanDrawer-rKSwP5-L.js";import{d as E}from"./CustomDatepicker-98gPMxCH.js";import"./InputError-VcDgzKKy.js";import"./Modal-Bwfer9c3.js";import"./transition-DFXrd4BT.js";function B({auth:u}){const{loans:s,employees:c}=D().props,[p,n]=a.useState(!1),[o,l]=a.useState(!1),[f,m]=a.useState(!1),[i,d]=a.useState(null),r=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:2}),y=e=>{d(e),l(!0)},x=e=>{d(e),m(!0)},b=[{key:"date",label:"Fecha",render:e=>E(e.date,"YYYY-MM-DD").format("DD MMMM YYYY")},{key:"employee",label:"Empleado",render:e=>e.employee.first_name+" "+e.employee.last_name},{key:"amount",label:"Monto del Préstamo",render:e=>r.format(e.amount)},{key:"installments",label:"Cuotas",render:e=>e.installments},{key:"installment_value",label:"Valor de Cuota",render:e=>r.format(e.installment_value)},{key:"pending_amount",label:"Monto Pendiente",render:e=>r.format(e.pending_amount)}],h=e=>{O.get(route("loans.index"),{employee_id:e},{preserveState:!0,replace:!0})};return t.jsxs(g,{user:u.user,children:[t.jsx(j,{title:"Préstamos"}),t.jsx(k,{title:"Todos los Préstamos",breadcrumbs:[{label:"Inicio",url:route("dashboard"),icon:P},{label:"Préstamos"}],onAddClick:()=>n(!0),searchPlaceholder:"Buscar préstamos",addButtonText:"Agregar préstamo",onSearch:h,initialSearchTerm:""}),t.jsx(S,{data:s.data,columns:b,onEdit:y,onDelete:x}),t.jsx(Y,{links:s.links,meta:s.meta}),t.jsx(M,{isOpen:p||o,onClose:()=>{n(!1),l(!1)},loan:o?i:null,employees:c}),t.jsx(C,{isOpen:f,onClose:()=>m(!1),data:i,routeName:"loans"})]})}export{B as default};
