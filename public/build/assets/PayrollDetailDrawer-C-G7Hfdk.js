import{W as v,r as N,j as e}from"./app-gD87wKxr.js";import{D as o,a as E,b as y,B as F}from"./ToggleSwitch-CDqJHs-g.js";import{I as r}from"./InputError-CvJPpQnH.js";function S({isOpen:p,onClose:d,PayrollDetail:a=null,payrollHeader:u,employees:c}){const n=a!==null,{data:i,setData:l,post:m,put:h,processing:_,errors:t,reset:x}=v({employee_id:"",others_earnings:"",responsabilities:"",funeral_plan:"",others_deductions:"",payroll_header_id:u?u.id:null});N.useEffect(()=>{a&&n&&l({employee_id:a.employee.id||"",others_earnings:a.others_earnings||"",responsabilities:a.responsabilities||"",funeral_plan:a.funeral_plan||"",others_deductions:a.others_deductions||"",payroll_header_id:a.payroll_header_id||""})},[a]);const g=s=>{s.preventDefault();const b=n?h:m,j=n?route("payroll-details.update",a.id):route("payroll-details.store");b(j,{onSuccess:()=>{d(),x()},onError:f=>{console.log("Error handling payroll detail: ",f)},data:i})};return e.jsxs(o,{open:p,onClose:d,position:"right",children:[e.jsx(o.Header,{title:n?"Editar Detalle de N贸mina":"Agregar Detalle de N贸mina",titleIcon:n?E:y}),e.jsx(o.Items,{children:e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"employee_id",className:"label",children:"Empleado"}),e.jsxs("select",{id:"employee_id",value:i.employee_id,onChange:s=>l("employee_id",s.target.value),className:"input",children:[e.jsx("option",{value:"",children:"Seleccionar empleado..."}),c.data.map(s=>e.jsxs("option",{value:s.id,children:[s.last_name," ",s.first_name]},s.id))]}),e.jsx(r,{message:t.employee_id})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"others_earnings",className:"label",children:"Otros Devengados"}),e.jsx("input",{id:"others_earnings",type:"number",value:i.others_earnings,onChange:s=>l("others_earnings",s.target.value),className:"input"}),e.jsx(r,{message:t.others_earnings})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"responsabilities",className:"label",children:"Responsabilidades"}),e.jsx("input",{id:"responsabilities",type:"number",value:i.responsabilities,onChange:s=>l("responsabilities",s.target.value),className:"input"}),e.jsx(r,{message:t.responsabilities})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"funeral_plan",className:"label",children:"Plan Exequial"}),e.jsx("input",{id:"funeral_plan",type:"number",value:i.funeral_plan,onChange:s=>l("funeral_plan",s.target.value),className:"input"}),e.jsx(r,{message:t.funeral_plan})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"others_deductions",className:"label",children:"Otras Deducciones"}),e.jsx("input",{id:"others_deductions",type:"number",value:i.others_deductions,onChange:s=>l("others_deductions",s.target.value),className:"input"}),e.jsx(r,{message:t.others_deductions})]})]}),e.jsx(F,{type:"submit",disabled:_,color:"blue",className:"mt-4 w-full text-base font-medium",children:n?"Editar Detalle de N贸mina":"Agregar Detalle de N贸mina"})]})})]})}export{S as default};
