import{q as D,r as a,j as t,Y as P,y as j}from"./app-CTCa4fs-.js";import{H as O}from"./ToggleSwitch-DvtBiXHV.js";import{A as g}from"./AuthenticatedLayout-DKScpBCa.js";import{P as k,G as S,D as Y}from"./DeleteModal-BW6zOnLA.js";import{P as C}from"./Pagination-q28l6kQh.js";import M from"./LoanDrawer-BgfKlc8-.js";import{d as E}from"./CustomDatepicker-D_Zo68B2.js";import"./InputError-T7M75z13.js";import"./Modal-Crpsuulw.js";import"./transition-C6Hk0x3I.js";function G({auth:u}){const{loans:s,employees:c}=D().props,[p,o]=a.useState(!1),[n,l]=a.useState(!1),[f,m]=a.useState(!1),[i,d]=a.useState(null),r=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:2}),y=e=>{d(e),l(!0)},x=e=>{d(e),m(!0)},b=[{key:"date",label:"Fecha",render:e=>E(e.date,"YYYY-MM-DD").format("DD MMMM YYYY")},{key:"employee",label:"Empleado",render:e=>e.employee.first_name+" "+e.employee.last_name},{key:"amount",label:"Monto del Préstamo",render:e=>r.format(e.amount)},{key:"installments",label:"Cuotas",render:e=>e.installments},{key:"installment_value",label:"Valor de Cuota",render:e=>r.format(e.installment_value)},{key:"pending_amount",label:"Monto Pendiente",render:e=>r.format(e.pending_amount)}],h=e=>{j.get(route("loans.index"),{employee_id:e},{preserveState:!0,replace:!0})};return t.jsxs(g,{user:u.user,children:[t.jsx(P,{title:"Préstamos"}),t.jsx(k,{title:"Todos los Préstamos",breadcrumbs:[{label:"Inicio",url:route("dashboard"),icon:O},{label:"Préstamos"}],onAddClick:()=>o(!0),searchPlaceholder:"Buscar préstamos",addButtonText:"Agregar préstamo",onSearch:h,initialSearchTerm:""}),t.jsx(S,{data:s.data,columns:b,onEdit:y,onDelete:x}),t.jsx(C,{links:s.links,meta:s.meta}),t.jsx(M,{isOpen:p||n,onClose:()=>{o(!1),l(!1)},loan:n?i:null,employees:c}),t.jsx(Y,{isOpen:f,onClose:()=>m(!1),data:i,routeName:"loans"})]})}export{G as default};
