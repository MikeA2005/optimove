import{W as b,r as f,j as e}from"./app-DK9Td1gN.js";import{D as n,a as w,b as N,B as C}from"./ToggleSwitch-BEsFegO1.js";import{I as i}from"./InputError-BpmO9yAk.js";function D({isOpen:d,onClose:m,user:s=null}){const l=s!==null,{data:o,setData:r,post:u,put:c,processing:p,errors:t,reset:h}=b({name:"",email:"",password:"",role:""});f.useEffect(()=>{s&&l&&r({name:s.name,email:s.email,role:s.role})},[s]);const x=a=>{a.preventDefault();const j=l?c:u,g=l?route("users.update",s.id):route("users.store");j(g,{onSuccess:()=>{m(),h()},onError:v=>{console.log("Error handling user: ",v)}})};return e.jsxs(n,{open:d,onClose:m,position:"right",children:[e.jsx(n.Header,{title:l?"Editar Usuario":"Añadir Usuario",titleIcon:l?w:N}),e.jsx(n.Items,{children:e.jsx("form",{onSubmit:x,children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"label",children:"Nombre de Usuario"}),e.jsx("input",{type:"text",id:"name",value:o.name,onChange:a=>r("name",a.target.value),className:"input",autoComplete:"given-name"}),e.jsx(i,{message:t.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"label",children:"Correo Electrónico"}),e.jsx("input",{type:"email",id:"email",value:o.email,onChange:a=>r("email",a.target.value),className:"input",autoComplete:"email"}),e.jsx(i,{message:t.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"label",children:"Contraseña"}),e.jsx("input",{type:"password",id:"password",value:o.password,onChange:a=>r("password",a.target.value),className:"input",autoComplete:"new-password"}),e.jsx(i,{message:t.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"label",children:"Rol"}),e.jsxs("select",{id:"role",value:o.role,onChange:a=>r("role",a.target.value),className:"input",autoComplete:"role",children:[e.jsx("option",{value:"",disabled:!0,children:"Seleccione un rol..."}),e.jsx("option",{value:"admin",children:"Administrador"}),e.jsx("option",{value:"rrhh",children:"Recuersos Humanos"}),e.jsx("option",{value:"operaciones",children:"Coordinadores"})]}),e.jsx(i,{message:t.role})]}),e.jsx(C,{type:"submit",disabled:p,color:"blue",className:"mt-4 w-full text-base font-medium",children:l?"Actualizar usuario":"Agregar usuario"})]})})})]})}export{D as default};
