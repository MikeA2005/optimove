import{W as b,r as f,j as e}from"./app-DJrw0BWf.js";import{D as n,a as N,b as D,B as E}from"./ToggleSwitch-3zIi9tcj.js";import{I as r}from"./InputError-Cpb82Hsi.js";import{C as c}from"./CustomDatepicker-w10sqpR6.js";function w({isOpen:p,onClose:o,disability:t=null,employees:m}){const l=t!==null,{data:i,setData:s,errors:d,post:u,put:x,processing:h,reset:j}=b({employee_id:"",start_date:"",end_date:"",type:"",description:"",daily_value:""});f.useEffect(()=>{t&&l&&s({employee_id:t.employee.id||"",start_date:t.start_date||"",end_date:t.end_date||"",type:t.type||"",description:t.description||"",daily_value:t.daily_value||""})},[t]);const _=a=>{a.preventDefault();const v=l?x:u,g=l?route("disabilities.update",t.id):route("disabilities.store");v(g,{onSuccess:()=>{o(),j()},onError:y=>{console.log("Error handling disability: ",y)}})};return e.jsxs(n,{open:p,onClose:o,position:"right",children:[e.jsx(n.Header,{title:l?"Editar incapacidad":"Agregar incapacidad",titleIcon:l?N:D}),e.jsx(n.Items,{children:e.jsx("form",{onSubmit:_,children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"employee_id",className:"label",children:"Empleado"}),e.jsxs("select",{id:"employee_id",value:i.employee_id,onChange:a=>s("employee_id",a.target.value),className:"input",children:[e.jsx("option",{value:"",children:"Seleccione el empleado..."}),m.data.map(a=>e.jsx("option",{value:a.id,children:a.first_name+" "+a.last_name},a.id))]}),e.jsx(r,{message:d.employee_id})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"start_date",className:"label",children:"Fecha de Inicio"}),e.jsx(c,{id:"start_date",value:i.start_date,onChange:a=>s("start_date",a)}),e.jsx(r,{message:d.start_date})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"end_date",className:"label",children:"Fecha de Fin"}),e.jsx(c,{id:"end_date",value:i.end_date,onChange:a=>s("end_date",a)}),e.jsx(r,{message:d.end_date})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"type",className:"label",children:"Tipo de Incapacidad"}),e.jsx("input",{type:"text",id:"type",value:i.type,onChange:a=>s("type",a.target.value),className:"input"}),e.jsx(r,{message:d.type})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"label",children:"DescripciÃ³n"}),e.jsx("textarea",{id:"description",value:i.description,onChange:a=>s("description",a.target.value),className:"input"}),e.jsx(r,{message:d.description})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"daily_value",className:"label",children:"Valor Diario"}),e.jsx("input",{type:"text",id:"daily_value",value:i.daily_value,onChange:a=>s("daily_value",a.target.value),className:"input"}),e.jsx(r,{message:d.daily_value})]}),e.jsx(E,{type:"submit",disabled:h,color:"blue",className:"mt-4 w-full text-base font-medium",children:l?"Actualizar incapacidad":"Guardar incapacidad"})]})})})]})}export{w as default};
