import{W as f,r as N,j as e}from"./app-DJrw0BWf.js";import{D as o,a as E,b as y,B as I}from"./ToggleSwitch-3zIi9tcj.js";import{I as d}from"./InputError-Cpb82Hsi.js";function D({isOpen:u,onClose:l,payrollDetail:t=null,employees:m,payrollHeader:c=null}){const n=t!==null,{data:r,setData:a,post:h,put:p,processing:_,errors:i,reset:g}=f({employee_id:"",other_earnings:"",other_deductions:""});N.useEffect(()=>{t&&n&&a({employee_id:t.employee.id||"",other_earnings:t.other_earnings||"",other_deductions:t.other_deductions||""})},[t]);const x=s=>{s.preventDefault();const j=n?p:h,b=n?route("payroll-details.update",t.id):route("payroll-details.store");j(b,{onSuccess:()=>{g(),l()},onError:v=>{console.log("Error handling payroll detail",v)},data:{...r,header_id:n?t.payroll_header_id:c?c.id:null}})};return e.jsxs(o,{open:u,onClose:l,position:"right",children:[e.jsx(o.Header,{title:n?"Editar Detalle de N贸mina":"Agregar Detalle de N贸mina",titleIcon:n?E:y}),e.jsx(o.Items,{children:e.jsxs("form",{onSubmit:x,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"employee_id",className:"label",children:"Empleado"}),e.jsxs("select",{id:"employee_id",value:r.employee_id,onChange:s=>a("employee_id",s.target.value),className:"input",children:[e.jsx("option",{value:"",children:"Selecciona un empleado"}),m.data.map(s=>e.jsx("option",{value:s.id,children:s.last_name+" "+s.first_name},s.id))]}),e.jsx(d,{message:i.employee_id})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"other_earnings",className:"label",children:"Otros Devengados"}),e.jsx("input",{id:"other_earnings",type:"number",value:r.other_earnings,onChange:s=>a("other_earnings",s.target.value),className:"input"}),e.jsx(d,{message:i.other_earnings})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"other_deductions",className:"label",children:"Otros Deducidos"}),e.jsx("input",{id:"other_deductions",type:"number",value:r.other_deductions,onChange:s=>a("other_deductions",s.target.value),className:"input"}),e.jsx(d,{message:i.other_deductions})]})]}),e.jsx(I,{type:"submit",disabled:_,color:"blue",className:"mt-4",children:n?"Editar detalle de n贸mina":"Agregar detalle de n贸mina"})]})})]})}export{D as default};
