import{q as A,r as a,j as t,Y as j,y as O}from"./app-C8aSnOsC.js";import{H as S}from"./ToggleSwitch-BZs51KRg.js";import{A as Y}from"./AuthenticatedLayout-CaTCCPr1.js";import{P as _,G as k,a as C,D as g}from"./DeleteModal-C6fSt68v.js";import E from"./AttendanceDrawer-BlUAn0FF.js";import{d as I}from"./CustomDatepicker-98gPMxCH.js";import"./InputError-VcDgzKKy.js";import"./Modal-Bwfer9c3.js";import"./transition-DFXrd4BT.js";function N({auth:c}){const{attendances:n,employees:m,clients:u}=A().props,[p,s]=a.useState(!1),[r,l]=a.useState(!1),[y,i]=a.useState(!1),[o,d]=a.useState(null),f=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:2}),x=e=>{d(e),l(!0)},D=e=>{d(e),i(!0)},h=[{key:"date",label:"Fecha",render:e=>I(e.date,"YYYY-MM-DD").format("DD MMMM YYYY")},{key:"employee_id",label:"Empleado",render:e=>`${e.employee.first_name} ${e.employee.last_name}`},{key:"client_id",label:"Cliente",render:e=>e.client.company_name},{key:"city_id",label:"Ciudad",render:e=>e.city.city_name},{key:"daily_value",label:"Valor Diario",render:e=>f.format(e.daily_value)}],b=e=>{O.get(route("attendances.index"),{date:e},{preserveState:!0,replace:!0})};return t.jsxs(Y,{user:c.user,children:[t.jsx(j,{title:"Attendances"}),t.jsx(_,{title:"Attendances",breadcrumbs:[{label:"Inicio",url:route("dashboard"),icon:S},{label:"Attendances"}],searchPlaceholder:"Buscar asistencias",onAddClick:()=>s(!0),addButtonText:"Agregar asistencia",onSearch:b,initialSearchTerm:""}),t.jsx(k,{data:n.data,columns:h,onEdit:x,onDelete:D}),t.jsx(C,{links:n.links,meta:n.meta}),t.jsx(E,{isOpen:p||r,onClose:()=>{s(!1),l(!1)},attendance:r?o:null,clients:u,employees:m}),t.jsx(g,{isOpen:y,onClose:()=>i(!1),data:o,routeName:"attendances"})]})}export{N as default};
