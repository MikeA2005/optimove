import{q as j,r as a,j as t,Y as O,y as C}from"./app-BJ3LYwhR.js";import{H as S}from"./ToggleSwitch-Cac-iS3i.js";import{A as Y}from"./AuthenticatedLayout-jKSGqAkw.js";import{P as _,G as k,a as g,D as E}from"./DeleteModal-C8HgEYeJ.js";import m from"./AttendanceDrawer-DNJx_kMD.js";import{d as I}from"./CustomDatepicker-KOevqwzL.js";import"./InputError-4CZTqiue.js";import"./Modal-DKyFmUC7.js";import"./transition-BLVpQDjA.js";function N({auth:p}){const{attendances:s,employees:n,clients:r}=j().props,[u,l]=a.useState(!1),[y,i]=a.useState(!1),[f,o]=a.useState(!1),[d,c]=a.useState(null),x=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:2}),D=e=>{c(e),i(!0)},h=e=>{c(e),o(!0)},b=[{key:"date",label:"Fecha",render:e=>I(e.date,"YYYY-MM-DD").format("DD MMMM YYYY")},{key:"employee_id",label:"Empleado",render:e=>`${e.employee.first_name} ${e.employee.last_name}`},{key:"client_id",label:"Cliente",render:e=>e.client.company_name},{key:"city_id",label:"Ciudad",render:e=>e.city.city_name},{key:"daily_value",label:"Valor Diario",render:e=>x.format(e.daily_value)}],A=e=>{C.get(route("attendances.index"),{date:e},{preserveState:!0,replace:!0})};return t.jsxs(Y,{user:p.user,children:[t.jsx(O,{title:"Attendances"}),t.jsx(_,{title:"Attendances",breadcrumbs:[{label:"Inicio",url:route("dashboard"),icon:S},{label:"Attendances"}],searchPlaceholder:"Buscar asistencias",onAddClick:()=>l(!0),addButtonText:"Agregar asistencia",onSearch:A,initialSearchTerm:""}),t.jsx(k,{data:s.data,columns:b,onEdit:D,onDelete:h}),t.jsx(g,{links:s.links,meta:s.meta}),t.jsx(m,{isOpen:u,onClose:()=>l(!1),clients:r.data,employees:n.data}),t.jsx(m,{isOpen:y,onClose:()=>i(!1),attendance:d,clients:r.data,employees:n.data}),t.jsx(E,{isOpen:f,onClose:()=>o(!1),data:d,routeName:"attendances"})]})}export{N as default};
