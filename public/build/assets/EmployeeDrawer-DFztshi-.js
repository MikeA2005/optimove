import{W as y,r as N,j as e}from"./app-Dt4zvYOL.js";import{D as d,a as f,b as C,B as E}from"./ToggleSwitch-Dck2_LdV.js";import{I as r}from"./InputError-BDaqBu_I.js";import{C as c}from"./CustomDatepicker-Csl877GC.js";function I({isOpen:u,onClose:o,employee:t=null,users:m}){const i=t!==null,{data:s,setData:l,post:h,put:_,processing:p,errors:n,reset:x}=y({first_name:"",last_name:"",document_type:"",document_number:"",birth_date:"",hire_date:"",base_salary:"",contract_type:"",user_id:""});N.useEffect(()=>{var a;t&&i&&l({first_name:t.first_name||"",last_name:t.last_name||"",document_type:t.document_type||"",document_number:t.document_number||"",birth_date:t.birth_date||"",hire_date:t.hire_date||"",base_salary:t.base_salary||"",contract_type:t.contract_type||"",user_id:((a=t.user)==null?void 0:a.id)||""})},[t]);const b=a=>{a.preventDefault();const j=i?_:h,v=i?route("employees.update",t.id):route("employees.store");j(v,{onSuccess:()=>{o(),x()},onError:g=>{console.log("Error handling employee: ",g)}})};return e.jsxs(d,{open:u,onClose:o,position:"right",children:[e.jsx(d.Header,{title:i?"Editar empleado":"Agregar empleado",titleIcon:i?f:C}),e.jsx(d.Items,{children:e.jsxs("form",{onSubmit:b,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"first_name",className:"label",children:"Nombres"}),e.jsx("input",{type:"text",id:"first_name",value:s.first_name,onChange:a=>l("first_name",a.target.value),className:"input",autoComplete:"given-name"}),e.jsx(r,{message:n.first_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"last_name",className:"label",children:"Apellidos"}),e.jsx("input",{type:"text",id:"last_name",value:s.last_name,onChange:a=>l("last_name",a.target.value),className:"input",autoComplete:"family-name"}),e.jsx(r,{message:n.last_name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"document_type",className:"label",children:"Tipo de Documento"}),e.jsxs("select",{id:"document_type",value:s.document_type,onChange:a=>l("document_type",a.target.value),className:"input",children:[e.jsx("option",{value:"",disabled:!0,children:"Selecciona el tipo de documento..."}),e.jsx("option",{value:"CC",children:"Cédula de Ciudadanía"}),e.jsx("option",{value:"CE",children:"Cédula de Extranjería"}),e.jsx("option",{value:"PA",children:"Pasaporte"})]}),e.jsx(r,{message:n.document_type})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"document_number",className:"label",children:"Número de Documento"}),e.jsx("input",{type:"number",id:"document_number",value:s.document_number,onChange:a=>l("document_number",a.target.value),className:"input",autoComplete:"document-number"}),e.jsx(r,{message:n.document_number})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"birth_date",className:"label",children:"Fecha de Nacimiento"}),e.jsx(c,{id:"birth_date",value:s.birth_date,onChange:a=>l("birth_date",a)}),e.jsx(r,{message:n.birth_date})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"hire_date",className:"label",children:"Fecha de Contratación"}),e.jsx(c,{id:"hire_date",value:s.hire_date,onChange:a=>l("hire_date",a)}),e.jsx(r,{message:n.hire_date})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"contract_type",className:"label",children:"Tipo de Contrato"}),e.jsxs("select",{id:"contract_type",value:s.contract_type,onChange:a=>l("contract_type",a.target.value),className:"input",children:[e.jsx("option",{value:"",disabled:!0,children:"Selecciona el tipo de contrato..."}),e.jsx("option",{value:"IND",children:"Independiente"}),e.jsx("option",{value:"DEP",children:"Dependiente"}),e.jsx("option",{value:"OBL",children:"Obra labor"})]}),e.jsx(r,{message:n.contract_type})]}),s.contract_type==="DEP"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"base_salary",className:"label",children:"Salario Base"}),e.jsx("input",{type:"number",id:"base_salary",value:s.base_salary,onChange:a=>l("base_salary",a.target.value),className:"input"}),e.jsx(r,{message:n.base_salary})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"user_id",className:"label",children:"Usuario Asociado"}),e.jsxs("select",{id:"user_id",value:s.user_id,onChange:a=>l("user_id",a.target.value),className:"input",children:[e.jsx("option",{value:"",disabled:!0,children:"Selecciona el usuario asociado..."}),m.data.map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]}),e.jsx(r,{message:n.user_id})]})]}),e.jsx(E,{type:"submit",disabled:p,color:"blue",className:"mt-4 w-full text-base font-medium",children:i?"Actualizar empleado":"Agregar empleado"})]})})]})}export{I as default};
