import{q as M,r as t,j as a,Y as j,y as O}from"./app-DJrw0BWf.js";import{H as I}from"./ToggleSwitch-3zIi9tcj.js";import{A as S}from"./AuthenticatedLayout-CoMBBdJ8.js";import{P as _,G as k,a as g,D as C}from"./DeleteModal-D2QJkCBi.js";import c from"./DisabilityDrawer-DPDH4lyP.js";import{d as m}from"./CustomDatepicker-w10sqpR6.js";import"./InputError-Cpb82Hsi.js";import"./Modal-Bl6Ke1i-.js";import"./transition-BXLYznrF.js";function G({auth:p}){const{disabilities:s,employees:i}=M().props,[u,r]=t.useState(!1),[D,l]=t.useState(!1),[y,n]=t.useState(!1),[o,d]=t.useState(null),b=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:2}),f=e=>{d(e),l(!0)},Y=e=>{d(e),n(!0)},x=[{key:"employee",label:"Empleado",render:e=>`${e.employee.first_name} ${e.employee.last_name}`},{key:"start_date",label:"Fecha de Inicio",render:e=>m(e.start_date,"YYYY-MM-DD").format("DD MMMM YYYY")},{key:"end_date",label:"Fecha de Fin",render:e=>m(e.end_date,"YYYY-MM-DD").format("DD MMMM YYYY")},{key:"type",label:"Tipo de Incapacidad"},{key:"daily_value",label:"Valor Diario",render:e=>b.format(e.daily_value)}],h=e=>{O.get(route("disabilities.index"),{employee_id:e},{preserveState:!0,replace:!0})};return a.jsxs(S,{user:p.user,children:[a.jsx(j,{title:"Disabilities"}),a.jsx(_,{title:"Disabilities",breadcrumbs:[{label:"Inicio",url:route("dashboard"),icon:I},{label:"Disabilities"}],onAddClick:()=>r(!0),searchPlaceholder:"Buscar Incapacidad",addButtonText:"Agregar Incapacidad",onSearch:h,initialSearchTerm:""}),a.jsx(k,{data:s.data,columns:x,onEdit:f,onDelete:Y}),a.jsx(g,{links:s.links,meta:s.meta}),a.jsx(c,{isOpen:u,onClose:()=>r(!1),employees:i}),a.jsx(c,{isOpen:D,onClose:()=>l(!1),disability:o,employees:i}),a.jsx(C,{isOpen:y,onClose:()=>n(!1),data:o,routeName:"disabilities"})]})}export{G as default};
