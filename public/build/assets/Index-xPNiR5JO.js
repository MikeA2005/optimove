import{q as y,r as s,j as t,Y as S,y as D}from"./app-C8aSnOsC.js";import{H as E}from"./ToggleSwitch-BZs51KRg.js";import{A as O}from"./AuthenticatedLayout-CaTCCPr1.js";import{P as g,G as k,a as A,D as I}from"./DeleteModal-C6fSt68v.js";import T from"./ClientDrawer-BR4fTlGY.js";import"./InputError-VcDgzKKy.js";import"./Modal-Bwfer9c3.js";import"./transition-DFXrd4BT.js";function v({auth:m}){const{clients:a,cities:u}=y().props,[p,l]=s.useState(!1),[r,i]=s.useState(!1),[x,o]=s.useState(!1),[c,d]=s.useState(null),f=e=>{d(e),i(!0)},h=e=>{d(e),o(!0)},C=[{key:"company_name",label:"Nombre de la Empresa"},{key:"nit",label:"NIT de la Empresa"},{key:"ciudades",label:"Ciudades",render:e=>{const n=e.cities.map(j=>j.city_name);return n.length>1?n.join(", "):n[0]||""}}],b=e=>{D.get(route("clients.index"),{company_name:e},{preserveState:!0,replace:!0})};return t.jsxs(O,{user:m.user,children:[t.jsx(S,{title:"Clients"}),t.jsx(g,{title:"Todos los Clientes",breadcrumbs:[{label:"Inicio",url:route("dashboard"),icon:E},{label:"Clientes"}],searchPlaceholder:"Buscar Clientes",onAddClick:()=>l(!0),addButtonText:"Agregar Cliente",onSearch:b,initialSearchTerm:""}),t.jsx(k,{data:a.data,columns:C,onEdit:f,onDelete:h}),t.jsx(A,{links:a.links,meta:a.meta}),t.jsx(T,{isOpen:p||r,onClose:()=>{l(!1),i(!1)},client:r?c:null,cities:u}),t.jsx(I,{isOpen:x,onClose:()=>o(!1),data:c,routeName:"clients"})]})}export{v as default};
