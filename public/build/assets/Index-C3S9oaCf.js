import{q as h,r,j as a,Y as g,y as k}from"./app-BJ3LYwhR.js";import{H as j}from"./ToggleSwitch-Cac-iS3i.js";import{A as O}from"./AuthenticatedLayout-jKSGqAkw.js";import{P as S,G as P,a as E,D as w}from"./DeleteModal-C8HgEYeJ.js";import c from"./PayrollDetailDrawer-CvqlLEXT.js";import"./InputError-4CZTqiue.js";import"./Modal-DKyFmUC7.js";import"./transition-BLVpQDjA.js";function F({auth:p}){const{payrollDetails:l,employees:o}=h().props,[u,s]=r.useState(!1),[y,n]=r.useState(!1),[D,d]=r.useState(!1),[i,m]=r.useState(null),t=new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:2}),f=e=>{m(e),n(!0)},b=e=>{m(e),d(!0)},x=[{key:"employee",label:"Empleado",render:e=>e.employee.first_name+" "+e.employee.last_name},{key:"worked_days",label:"Días Trabajados",render:e=>e.worked_days},{key:"earned_salary",label:"Salario Devengado",render:e=>t.format(e.earned_salary)},{key:"transport_allowance",label:"Auxilio de Transporte",render:e=>t.format(e.transport_allowance)},{key:"total_earnings",label:"Total Devengado",render:e=>t.format(e.total_earnings)},{key:"total_deductions",label:"Total Deducciones",render:e=>t.format(e.total_deductions)},{key:"net_pay",label:"Pago Neto",render:e=>t.format(e.net_pay)}],_=e=>{k.get(route("payroll-details.index"),{employee_id:e},{preserveState:!0,replace:!0})};return a.jsxs(O,{user:p.user,children:[a.jsx(g,{title:"Detalles de Nómina"}),a.jsx(S,{title:"Detalles de Nómina",breadcrumbs:[{label:"Inicio",url:route("dashboard"),icon:j},{label:"Encabezado de Nómina",url:route("payroll-headers.index")},{label:"Detalles de Nómina"}],onAddClick:()=>s(!0),searchPlaceholder:"Buscar por empleado",addButtonText:"Agregar Detalle",onSearch:_,initialSearchTerm:""}),a.jsx(P,{data:l.data,columns:x,onEdit:f,onDelete:b}),a.jsx(E,{links:l.links,meta:l.meta}),a.jsx(c,{isOpen:u,onClose:()=>s(!1),employees:o}),a.jsx(c,{isOpen:y,onClose:()=>n(!1),payrollDetail:i,employees:o}),a.jsx(w,{isOpen:D,onClose:()=>d(!1),data:i,routeName:"payroll-details"})]})}export{F as default};
